{% extends 'heritage/heritage.html.twig' %}
{% block Title %} Profile {{fullname}} {% endblock %}

{% block path1 %}
    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="{{ path('PrivatePage') }}">Home</a></li>
{% endblock %}
{% block path2 %}
    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="{{ path('createcampaign') }}">Create Campaign</a></li>
{% endblock %}
{% block path3 %}
    {#  <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="{{ path('Profile_Page') }}">Profile </a></li>#}
{% endblock %}
{% block path4 %}
    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="{{ path('app_logout') }}">Log out </a></li>
{% endblock %}

{% block HeaderDocument %}
    <header class="masthead bg-primary text-white text-center">
        <div class="container d-flex align-items-center flex-column">

            <img class="masthead-avatar mb-5" src="assets/img/portfolio/R.png" alt="..." />

            <h1 class="masthead-heading text-uppercase mb-0">Thank you, {{ fullname }}, for being a part of Manara</h1>

            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>

            <p class="masthead-subheading font-weight-light mb-0">Tunisian Charity Campaign</p>
        </div>
    </header>

{% endblock %}


 {% block sectionDocument %}

     <div class="container">
         <h2 class="section-heading text-center text-uppercase">Your Donations</h2>
         <div class="row">
             {% for campaign in campaigns %}
                 <div class="col-3">
                     <div class="card">
                         <img class="card-img-top" style="height: 12rem;" src="assets/img/portfolio/{{ campaign.Image }}" alt="Campaign Image">
                         <div class="card-body">
                             <h5 class="card-title">{{ campaign.campaignName }}</h5>
                             <p style="overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;" class="card-text">{{ campaign.description }}</p>
                             <p class="card-text">Budget: {{ campaign.budget }}</p>
                             <div class="btn-group" style="width: 100%;">
                                 <button class="btn btn-primary" style="flex-grow: 1;" data-bs-toggle="modal" data-bs-target="#portfolioModal{{ loop.index }}">
                                     View Details
                                 </button>
                                 <a href="{{ path('delete_campaign', {'id': campaign.id}) }}" class="btn btn-danger" style="flex-grow: 1;">
                                     <i class="fas fa-trash-alt"></i> Delete
                                 </a>
                             </div>
                         </div>
                     </div>
                 </div>

                 <!-- Portfolio Modal -->
                 <div class="portfolio-modal modal fade" id="portfolioModal{{ loop.index }}" tabindex="-1" aria-labelledby="portfolioModal{{ loop.index }}" aria-hidden="true">
                     <div class="modal-dialog modal-xl">
                         <div class="modal-content">
                             <div class="modal-header border-0">
                                 <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                             </div>
                             <div class="modal-body text-center pb-5">
                                 <div class="container">
                                     <div class="row justify-content-center">
                                         <div class="col-lg-8">
                                             <!-- Portfolio Modal - Title-->
                                             <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">{{ campaign.CampaignName }}</h2>
                                             <!-- Icon Divider-->
                                             <div class="divider-custom">
                                                 <div class="divider-custom-line"></div>
                                                 <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                                 <div class="divider-custom-line"></div>
                                             </div>
                                             <!-- Portfolio Modal - Image-->
                                             <img class="img-fluid rounded mb-5" src="assets/img/portfolio/{{ campaign.Image }}" alt="Image Not Found" />
                                             <!-- Portfolio Modal - Text-->
                                             <p class="mb-4">{{ campaign.Description }}</p>
                                             <!-- Budget and Owner Information -->
                                             <p><strong>Budget:</strong> {{ campaign.Budget }} Dt</p>
                                             <p><strong>Owner:</strong> {{ campaign.Ownerid.fullname }}</p>
                                             <p><strong>ContactOwner:</strong> {{ campaign.Ownerid.email }}</p>
                                             <!-- Fund Campaign Button -->
                                             <button class="btn btn-primary" data-bs-dismiss="modal">
                                                 <a class="btn btn-primary" href="{{ path('FundCampaign', {'id': campaign.id}) }}">
                                                     Fund Campaign
                                                 </a>
                                             </button>

                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </div>
             {% endfor %}
         </div>
     </div>

 {% endblock %}


{% block aboutDocument %}

{% endblock %}


 {% block formDocument %}
 {% endblock %}